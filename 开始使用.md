# 🚀 宠物粮选择系统 - 快速开始

## ⚡ 一键操作

### 本地调试
```bash
# 启动服务
bash start_local.sh

# 打开浏览器
open http://localhost:8000

# 查看日志
tail -f server.log
```

### 快速测试
```bash
# 自动化测试
bash 快速测试.sh

# 手动测试
# 访问 http://localhost:8000 并按照页面提示操作
```

### 发布上线
```bash
# 一键发布到Render
bash 发布到Render.sh

# 或手动推送
git push origin main
```

---

## 📚 完整文档导航

| 文档 | 用途 | 何时查看 |
|------|------|----------|
| **本地调试与发布手册.md** | 📘 最全面的操作指南 | 首次使用、详细了解 |
| **本地调试指南.md** | 🔧 调试技巧和问题排查 | 遇到问题时 |
| **发布前检查清单.md** | ✅ 发布前完整检查项 | 准备发布时 |
| **BUG_FIX_REPORT.md** | 🐛 已修复的BUG列表 | 了解项目改进 |
| **README.md** | 📖 项目总体说明 | 了解项目概况 |

---

## 🎯 典型场景快速指南

### 场景1：首次本地运行
1. 打开终端，进入项目目录
2. 运行：`bash start_local.sh`
3. 浏览器访问：http://localhost:8000
4. 测试完整流程（填写宠物信息 → 选择产品 → 查看推荐）

### 场景2：修改代码后测试
1. 确保服务正在运行（如未运行，执行 `bash start_local.sh`）
2. 刷新浏览器页面测试修改
3. 如需重启服务：
   - 按 `Ctrl+C` 停止
   - 重新运行 `bash start_local.sh`
4. 查看日志排查问题：`tail -f server.log`

### 场景3：准备发布
1. 运行测试：`bash 快速测试.sh`
2. 确认所有功能正常
3. 提交代码：
   ```bash
   git add -A
   git commit -m "描述你的修改"
   ```
4. 执行发布：`bash 发布到Render.sh`
5. 在Render后台监控部署进度

### 场景4：遇到问题
1. 查看 `server.log` 日志：`tail -50 server.log`
2. 浏览器按F12查看控制台错误
3. 参考 `本地调试指南.md` 中的"常见问题排查"章节
4. 如需重置：
   ```bash
   # 停止服务
   lsof -ti:8000 | xargs kill -9
   
   # 重启
   bash start_local.sh
   ```

### 场景5：数据库问题
```bash
# 查看数据库内容
sqlite3 pet_food_selection.db "SELECT COUNT(*) FROM products;"

# 重新初始化
rm pet_food_selection.db
python3 sqlite_db_utils.py

# 验证数据
python3 verify_database.py
```

---

## 🛠️ 常用命令速查

### 服务管理
```bash
# 启动服务
bash start_local.sh

# 停止服务
lsof -ti:8000 | xargs kill -9

# 查看服务状态
curl http://localhost:8000/api/health
```

### 日志查看
```bash
# 实时日志
tail -f server.log

# 最近50行
tail -50 server.log

# 只看错误
tail -f server.log | grep ERROR
```

### 测试接口
```bash
# 健康检查
curl http://localhost:8000/api/health

# 产品列表
curl 'http://localhost:8000/api/products?species=cat&limit=5'

# 完整测试
bash 快速测试.sh
```

### Git操作
```bash
# 查看状态
git status

# 提交修改
git add -A
git commit -m "你的提交信息"

# 推送到GitHub
git push origin main

# 查看历史
git log --oneline -10
```

---

## 🌐 访问地址

### 本地开发
- 前端页面: http://localhost:8000
- API文档: http://localhost:8000/docs
- 健康检查: http://localhost:8000/api/health

### 生产环境
- 部署后Render会分配URL，例如：
  `https://your-app-name.onrender.com`

---

## ⚙️ 环境配置

### 本地开发
环境变量已在 `.env.local` 中配置：
- `DIFY_API_KEY` - Dify API密钥
- `ENVIRONMENT` - 环境标识（local）
- `LOG_LEVEL` - 日志级别（DEBUG）

### 生产环境
需在Render后台配置：
- `DIFY_API_KEY` = `app-H3Owfh8VRao6bUv6wFgRt7Kg`
- `ENVIRONMENT` = `production`
- `LOG_LEVEL` = `INFO`

---

## 📞 需要帮助？

1. **查看详细文档**：`本地调试与发布手册.md`
2. **排查常见问题**：`本地调试指南.md` 第3章
3. **发布前确认**：`发布前检查清单.md`
4. **了解已修复问题**：`BUG_FIX_REPORT.md`

---

## ✨ 快速提示

- 💡 首次使用建议完整阅读 `本地调试与发布手册.md`
- 🔍 遇到问题先查看日志：`tail -f server.log`
- ✅ 发布前务必运行测试：`bash 快速测试.sh`
- 📱 测试时注意检查浏览器控制台
- 🎯 保持代码提交清晰明确

---

**现在就开始使用吧！** 🚀

```bash
bash start_local.sh
```
